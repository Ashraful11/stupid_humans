<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Dashboard | Stupid Humans Tech</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/admin-dashboard.css">
</head>
<body>
    <!-- Dashboard Header -->
    <header class="dashboard-header">
        <div class="dashboard-header-content">
            <div class="dashboard-brand">
                <h1>Stupid Humans Tech</h1>
                <span class="dashboard-subtitle">Content Management Dashboard</span>
            </div>
            <div class="dashboard-user">
                <span id="userEmail" class="user-email">Loading...</span>
                <button id="logoutBtn" class="btn-logout">Logout</button>
            </div>
        </div>
    </header>

    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h2>Admin Login</h2>
                <p>Sign in to manage your content</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required placeholder="admin@example.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" required placeholder="Enter your password">
                </div>
                <button type="submit" class="btn-primary">Sign In</button>
                <div id="loginError" class="error-message"></div>
            </form>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboardContent" class="dashboard-container" style="display: none;">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <nav class="dashboard-nav">
                <a href="#" class="nav-item active" data-section="overview">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    <span>Overview</span>
                </a>
                <a href="#" class="nav-item" data-section="blog">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                    <span>Blog Posts</span>
                </a>
                <a href="#" class="nav-item" data-section="news">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/>
                    </svg>
                    <span>News Articles</span>
                </a>
                <a href="#" class="nav-item" data-section="settings">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                    </svg>
                    <span>Settings</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="dashboard-main">
            <!-- Overview Section -->
            <section id="overviewSection" class="dashboard-section active">
                <div class="section-header">
                    <h2>Content Overview</h2>
                    <p>Manage all your blog posts and news articles</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blog">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalBlogPosts">0</h3>
                            <p>Blog Posts</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon news">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalNewsArticles">0</h3>
                            <p>News Articles</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon published">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalPublished">0</h3>
                            <p>Published</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon draft">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalDrafts">0</h3>
                            <p>Drafts</p>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <div class="action-buttons">
                        <button class="btn-action" onclick="showSection('blog', true)">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                            Create Blog Post
                        </button>
                        <button class="btn-action" onclick="showSection('news', true)">
                            <svg viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                            Create News Article
                        </button>
                    </div>
                </div>
            </section>

            <!-- Blog Section -->
            <section id="blogSection" class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2>Blog Posts</h2>
                        <p>Manage your automation tutorials and blog content</p>
                    </div>
                    <button class="btn-primary" onclick="showBlogEditor()">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        New Blog Post
                    </button>
                </div>

                <div id="blogList" class="content-list">
                    <!-- Blog posts will be loaded here -->
                    <div class="loading-state">
                        <div class="spinner"></div>
                        <p>Loading blog posts...</p>
                    </div>
                </div>
            </section>

            <!-- News Section -->
            <section id="newsSection" class="dashboard-section">
                <div class="section-header">
                    <div>
                        <h2>News Articles</h2>
                        <p>Manage AI and marketing news updates</p>
                    </div>
                    <button class="btn-primary" onclick="showNewsEditor()">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                        </svg>
                        New News Article
                    </button>
                </div>

                <div id="newsList" class="content-list">
                    <!-- News articles will be loaded here -->
                    <div class="loading-state">
                        <div class="spinner"></div>
                        <p>Loading news articles...</p>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settingsSection" class="dashboard-section">
                <div class="section-header">
                    <h2>Settings</h2>
                    <p>Configure your dashboard and Firebase settings</p>
                </div>

                <div class="settings-container">
                    <div class="settings-card">
                        <h3>Firebase Configuration</h3>
                        <p class="settings-description">Your Firebase project settings for content storage</p>
                        <div class="settings-status">
                            <div class="status-indicator connected"></div>
                            <span id="firebaseStatus">Connected</span>
                        </div>
                    </div>

                    <div class="settings-card">
                        <h3>Account Information</h3>
                        <p class="settings-description">Manage your admin account</p>
                        <div class="settings-info">
                            <label>Email:</label>
                            <span id="settingsEmail">Loading...</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Blog/News Editor Modal -->
    <div id="editorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="editorTitle">Create New Post</h2>
                <button class="modal-close" onclick="closeEditor()">&times;</button>
            </div>
            <form id="contentForm" class="content-form">
                <input type="hidden" id="editId">
                <input type="hidden" id="contentType">

                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="postTitle">Title *</label>
                        <input type="text" id="postTitle" required placeholder="Enter post title">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="postCategory">Category *</label>
                        <select id="postCategory" required>
                            <!-- Options will be populated based on content type -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="postDifficulty">Difficulty</label>
                        <select id="postDifficulty">
                            <option value="">Select difficulty</option>
                            <option value="beginner">Beginner</option>
                            <option value="intermediate">Intermediate</option>
                            <option value="advanced">Advanced</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="postAuthor">Author</label>
                        <input type="text" id="postAuthor" placeholder="Author name">
                    </div>
                    <div class="form-group">
                        <label for="postReadTime">Read Time (minutes)</label>
                        <input type="number" id="postReadTime" placeholder="15" min="1">
                    </div>
                </div>

                <div class="form-group">
                    <label for="postExcerpt">Excerpt *</label>
                    <textarea id="postExcerpt" required rows="3" placeholder="Brief description of the content..."></textarea>
                </div>

                <div class="form-group">
                    <label for="postContent">Content *</label>
                    <textarea id="postContent" required rows="15" placeholder="Write your content here... (Supports Markdown)"></textarea>
                    <small>Tip: You can use Markdown formatting</small>
                </div>

                <div class="form-group">
                    <label for="postImage">Featured Image URL</label>
                    <input type="url" id="postImage" placeholder="https://example.com/image.jpg">
                </div>

                <div class="form-group">
                    <label for="postTags">Tags (comma separated)</label>
                    <input type="text" id="postTags" placeholder="automation, n8n, tutorial">
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeEditor()">Cancel</button>
                    <button type="button" class="btn-outline" onclick="saveDraft()">Save as Draft</button>
                    <button type="submit" class="btn-primary">Publish</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <!-- Dashboard Scripts -->
    <script src="../js/firebase-config.js"></script>
    <script src="../js/admin-dashboard.js"></script>
</body>
</html>
